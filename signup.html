<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="styles/style.css">
        <title>Sign Up</title>
    
        <style>
            div.enter-form-grid-container {
                display: grid;
                grid-template-rows: repeat(11, 20px);
                grid-template-columns: repeat(2, 150px);
                grid-column-gap: 10px;
                grid-row-gap: 10px;
            }

            button {
                height: 1.9rem;
            }
        </style>
    </head>
    
    <body onload="initialise_time()">
        <header>
            <a href="index.html">GTrack</a>
            Set your Goals!
        </header>
        
        <div class="content">
            <div class="enter-form">
                <h2> Register </h2>
                <form action="">
                    <div class="enter-form-grid-container">
                        <label for="account-email">Email: </label><input type="email" name="account-email">
                        <label for="account-password">Password: </label><input type="password" name="account-password">
                        <label for="account-userid">User ID: </label><input type="text" name="account-userid">
                        <label for="account-name">Name: </label><input type="text" name="account-name">
                        <label for="account-address">Address: </label><input type="text" name="account-address">
                        <label for="account-country">Country: </label><input type="text" name="account-country">
                        <label for="account-zipcode">ZipCode: </label><input type="text" name="account-zipcode">
                        <label for="account-sex">Sex: </label><input type="text" name="account-sex">
                        <label for="account-language">Language: </label><input type="text" name="account-language">
                        <label for="account-about">About me (Short): </label><input type="text" name="account-about">
                        <button type="button" onclick="statistics.display()">Register</button>
                    </div>
                </form>
            </div>
            <div id="stat-result">
                
            </div>
        </div>

        <footer>
            <a id="footer-name" href="index.html">GTrack</a>
            <a href="">Facebook</a>
            <a href="">Instagram</a>
            <a href="">Twitter</a>
        </footer>

        <script>
            const date = new Date();

            let statistics = {
                total_clicks : 0,
                enter_time : 0,
                total_key_presses : 0,
                total_number_characters : 0,
                display : function() {
                    let current_date = new Date();
                    document.getElementById('stat-result').innerHTML = `
                        Statistics:
                        <br>
                        Total mouse clicks: ${this.total_clicks},
                        <br>
                        Time spent on a page : Minutes - ${Math.floor((current_date.getTime() - this.enter_time) / 60000)}, Seconds - ${Math.floor((current_date.getTime() - this.enter_time) / 1000)} ,
                        <br>
                        Total key presses: ${this.total_key_presses},
                        <br>
                        Total number of characters typed: ${[...document.getElementsByTagName('input')].reduce((acc, el) => acc + el.value.length, 0)},
                    `;
                }
            };

            function initialise_time() {
                statistics['enter_time'] = date.getTime();
            }
            document.addEventListener('click', function() { statistics['total_clicks']++; });
            document.addEventListener('keydown', function() { statistics['total_key_presses']++; });
            

        </script>
    </body>
</html>